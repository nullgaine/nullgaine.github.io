<!DOCTYPE html>
<html lang="ja">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>襍､縺?楜</title>
    <meta name="contained" content="noindex">
    <style>
        body {
            font-family: monospace;
            background-color: black;
            color: green;
        }
        #div1 {
            color: green;
            border: 1px solid green;
            padding: 10px;
            margin-top: 20px;
        }
        #innerdiv {
            display: none;
            color: green;
        }
        button {
            color: green;
            background-color: black;
            border: 1px solid green;
            padding: 5px 10px;
        }
    </style>
</head>
<body>
   <div id="div1">
       <strong>新しいメッセージが（１）通あります！</strong><br>
       <button type="button" id="checkButton"> 確認する </button>
       <div id="innerdiv">
           =================================================================================<br>
           2025年2月30日 23:10:51　　　　　　　　　　　　　　　　　　　　　  作成　外峯 零<br>
           =================================================================================<br>
           荒ら屋暮らしの頃は覚えてるだけ無駄らしい？<br>
           それってさ、ちょっと酷い話だと思わないこと？<br>
           ずっとお世話になった荒ら屋も可哀想だし。<br>
           其処で過ごした時間は無駄じゃなかったし。<br>
           私に『廃墟の歌姫』という渾名が付いたのも此処のお陰だし。<br>
           まあもう私同様、存在しない場所になってしまったけどね。<br>
           この街に来てから偶に訪ねたりするの。<br>
           だって此処は、存在しなくなったモノが集まる街だから。<br>
           市街というか、死骸ね。<br>
           長い間の記憶は残念ながら無いけど、私を構成するにあたって、<br>
           私の廃墟がすこぶる影響を与えたのは間違いなく事実です。<br>
           だからね、無駄だなんて思いたくないわ。<br>
       </div>
   </div>

<script type="text/javascript">
    (function() {
        let time = 10000;
        let ICU = ["み", "て", "る", "よ"];
        let counter = 0;
        let flag = 0;
        let content1 = document.getElementById("div1").innerHTML;
        let div1 = document.getElementById("div1");
        let button = document.getElementById("checkButton");
        let innerdiv = document.getElementById("innerdiv");

        innerdiv.style.display = "none";

        function random(n) {
            return Math.floor(Math.random() * n);
        }

        function change(str) {
            let content = str.split("");
            let cache = random(content.length);

            for (let i = 0; i < 4; i++) { content[cache + i] = ICU[i]; }
            if (time >= 100) time = time - 1000;
            else counter++;

            if (counter >= 50) {
                clearInterval(interval);
                showFinalMessage();
            }

            div1.innerHTML = content.join("");
            return content.join("");
        }

        function showFinalMessage() {
            div1.style.color = "red";
            div1.style.border = "1px solid red";
            button.style.color = "red";
            button.style.border = "1px solid red";
            button.style.backgroundColor = "black";
            setTimeout(() => {
                div1.innerHTML = "あかいめがみている";
            }, 1000);
            setTimeout(() => {
                div1.innerHTML = "よっぽど憶えられたいらしい、随分と変わったお方だこと。良いでしょう、おぼえておくね";
            }, 20000);
        }

        function start() {
            innerdiv.style.display = "block";
            let interval = setInterval(() => {
                content1 = change(content1);
            }, time);

            setTimeout(() => {
                showFinalMessage();
            }, 12000);
        }

        button.addEventListener("click", start);
    })();
</script>

</body>
</html>
