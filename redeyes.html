<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>襍､縺?楜</title>
       <meta name="contained" content="noindex">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        body {
            background-color: black;
            color: #00FF00;
            font-family: 'Press Start 2P', monospace;
            overflow: hidden;
        }

        #innerdiv {
            display: none;
            white-space: pre-wrap;
        }

        button {
            padding: 10px 20px;
            background-color: #00FF00;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #00CC00;
        }

        .glitch {
            color: #FF0000;
            animation: glitch 0.1s infinite alternate;
            white-space: pre-wrap;
            font-weight: bold;
        }

        @keyframes glitch {
            from { transform: translate(0); }
            to { transform: translate(1px, -1px); }
        }
    </style>
</head>
<body>
    <div>
        <div>
            <strong>新しいメッセージが（1）通あります！</strong><br>
            <button type="button" onclick="go()">確認する</button>
            <div id="innerdiv">
================================================================================<br>
2025年2月30日 23:10:51 作成 外峯 零<br>
================================================================================<br>
荒ら屋暮らしの頃は覚えてるだけ無駄らしい？<br>
それってさ、ちょっと酷い話だと思わないこと？<br>
ずっとお世話になった荒ら屋も可哀想だし。<br>
私に『廃墟の歌姫』という渾名が付いたのも此処のお陰だし。<br>
この街に来てから偶に訪ねたりするの。<br>
だって此処は、存在しなくなったモノが集まる街だから。<br>
市街というか、死骸ね。<br>
無駄だなんて思いたくないわ。<br>
            </div>
        </div>
    </div>

    <script>
        const ICU = ["赤", "瞳", "視", "てる"];
        let invasionInterval;

        function go() {
            document.getElementById("innerdiv").style.display = "block";
            setTimeout(startInvasion, 8000);
            setTimeout(startTyping, 16000);
            setTimeout(showEnding, 25000);
        }

        function startInvasion() {
            invasionInterval = setInterval(() => {
                const el = document.getElementById("innerdiv");
                const txt = el.innerHTML.replace(/<br>/g, "\\n").split("");
                const count = Math.max(1, Math.floor(txt.length * 0.02)); // 徐々に増える

                for (let i = 0; i < count; i++) {
                    const p = Math.floor(Math.random() * txt.length);
                    if (!["\\n", "="].includes(txt[p])) {
                        txt[p] = ICU[Math.floor(Math.random() * ICU.length)];
                    }
                }
                el.innerHTML = txt.join("").replace(/\\n/g, "<br>");
            }, 500);
        }

        function startTyping() {
            clearInterval(invasionInterval);
            const el = document.getElementById("innerdiv");
            el.innerHTML = "";
            let t = "";
            for (let i = 0; i < 200; i++) {
                t += "赤瞳視てる";
                if (i % 20 === 0) t += "<br>";
            }
            el.innerHTML = "<div class='glitch'>" + t + "</div>";
        }

        function showEnding() {
            const el = document.getElementById("innerdiv");
            el.innerHTML = "<div class='glitch'>よっぽど覚えられたいらしい、随分と変わったお方だこと。<br>良いでしょう、おぼえておくね。</div>";
        }
    </script>
</body>
</html>
