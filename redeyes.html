<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>襍､縺?楜</title>
    <meta name="contained" content="noindex">
<style type="text/css">
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
         
                body {
            background-color: black;
            color: #00FF00;
            font-family: 'Press Start 2P', monospace;
            overflow: hidden;
        }

        .red-mode {
            background-color: black;
            color: red;
        }

        .glitch {
            color: #FF0000;
            animation: glitch 1s infinite alternate;
            white-space: pre-wrap;
        }

        @keyframes glitch {
            0% { transform: translate(2px, 2px) skew(0.5deg); opacity: 1; }
            20% { transform: translate(-2px, -2px) skew(0.5deg); opacity: 0.8; }
            40% { transform: translate(1px, 1px) skew(0.2deg); opacity: 1; }
            60% { transform: translate(-1px, -1px) skew(0.3deg); opacity: 0.8; }
            80% { transform: translate(2px, -2px) skew(0.4deg); opacity: 1; }
            100% { transform: translate(-2px, 2px) skew(0.5deg); opacity: 0.8; }
        }

        #innerdiv {
            display: none;
        }

        button {
            padding: 10px 20px;
            background-color: #00FF00;
            color: white;
            border: none;
            cursor: pointer;
        }

        button.red-mode {
            background-color: red;
        }

        button:hover {
            background-color: #00FF00;
        }
    </style>
</head>
<body>
    <div id="div1">
        <div id="messageBox">
            <strong class="no-glitch">新しいメッセージが（１）通あります！</strong><br>
            <button type="button" class="no-glitch" onclick="go()">確認する</button>
            <div id="innerdiv" style="display:none;"></div>
        </div>
    </div>

    <script type="text/javascript">
        var time = 1000; // 更新間隔(ms)
        var counter = 0;
        var maxChanges = 20; // 変化の回数
        var redPhase = false;
        var redPhaseStart = 10; // 赤モード突入
        var intervalID = null;

        function go() {
            document.getElementById("innerdiv").style.display = "block"; 
            intervalID = setInterval(Change, time);
        }

        function Change() {
            var element = document.getElementById("innerdiv");

            // 「赤め視てる」がどんどん増える
            var message = "";
            for (var i = 0; i < counter; i++) {
                message += "赤め視てる";
                if (i % 4 === 3) message += "<br>"; // 4回ごとに改行
            }

            element.innerHTML = message;

            if (!redPhase && counter >= redPhaseStart) {
                document.body.classList.add("red-mode");
                document.querySelector("button").classList.add("red-mode");
                redPhase = true;
            }

            counter++;

            if (counter >= maxChanges) {
                clearInterval(intervalID);
                EndMessage();
            }
        }

        function EndMessage() {
            document.getElementById("innerdiv").innerHTML = "<div class='glitch' style='font-weight: bold;'>よっぽど憶えられたいらしい、随分と変わったお方だこと。<br>良いでしょう、おぼえておくね。</div>";
        }
    </script>
</body>
</html>
